create table user (
    id int unsigned not null AUTO_INCREMENT,
    mobile varchar(20) not null default '' comment '手机号',
    openid varchar(30) not null default '' comment '微信openid',
    password varchar(60) not null default '' comment 'md5加密后的密码',
    user_status tinyint not null default 0 comment '用户状态：见 USER_STATUS_DICT',
    max_love_status tinyint not null default 0 comment '最新恋爱状态取值范围：0匹配中，1牵线中，2恋爱中',
    nickname varchar(20) not null default '' comment '昵称',
    profile_photo varchar(20) not null default '' comment '头像url的key',
    is_student tinyint not null default -1 comment '是否是学生，1YES，0NO',
    member_expire_time datetime not null default CURRENT_TIMESTAMP comment '会员过期时间',
    is_faithful tinyint not null default 0 comment '是否诚信：1YES，0NO',
    change_detail_message_times smallint unsigned not null default 0 comment '修改详细信息的次数',
    mobile_address_book_status tinyint unsigned not null default 0 comment '手机通讯录上传状态: 0未传，1已传',
    identity_auth_status tinyint unsigned not null default 0 comment '身份证认证状态: 0未认证，1已认证',
    voice_auth_status tinyint unsigned not null default 0 comment '语音认证状态: 0未认证，1已认证',
    face_auth_status tinyint unsigned not null default 0 comment '人脸认证状态: 0未认证，1已认证',
    fingerprint_auth_status tinyint unsigned not null default 0 comment '指纹认证状态: 0未认证，1已认证',
    education_certificate_status tinyint unsigned not null default 0 comment '教育认证状态: 0未认证，1已认证',
    employment_certificate_status tinyint unsigned not null default 0 comment '职业认证状态: 0未认证，1已认证',
    user_info_fill_count smallint unsigned not null default 0 comment '详细信息完善条数',
    updated_time datetime not null default CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    created_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    PRIMARY KEY (`id`),
    index idx_openid (openid, user_status),
    index idx_mobile_password_status (mobile, password, user_status)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT='用户表';

create table user_info (
    id int unsigned not null AUTO_INCREMENT,
    user_id int unsigned not null default 0 comment '用户id',
    sex tinyint not null default -1 comment '性别，0FEMALE 1MALE',
    married_times int unsigned not null default 0 comment '已婚次数',
    child_num smallint unsigned not null default 0 comment '孩子数量',
    year_of_birth smallint unsigned not null default 0 comment '出生年份',
    annual_income smallint unsigned not null default 0 comment '年收入，单位万/年',
    height smallint unsigned not null default 0 comment '身高，单位cm',
    weight smallint unsigned not null default 0 comment '体重，单位kg',
    degree tinyint unsigned not null default 0 comment '学历',
    seniority tinyint unsigned not null default 0 comment '工龄',
    house_value tinyint unsigned not null default 0 comment '房产价值，单位万元',
    car_value tinyint unsigned not null default 0 comment '车子价值，单位万元',
    home_province varchar(20) not null default '' comment '家乡省份',
    home_city varchar(20) not null default '' comment '家乡城市',
    live_province varchar(20) not null default '' comment '居住省份',
    live_city varchar(20) not null default '' comment '居住城市',
    collage_province varchar(20) not null default '' comment '大学省份',
    collage_city varchar(20) not null default '' comment '大学城市',
    collage varchar(20) not null default '' comment '大学名称',
    profession varchar(20) not null default '' comment '专业名',
    vocation varchar(20) not null default '' comment '职业类型',
    updated_time datetime not null default CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    created_time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    PRIMARY KEY (`id`),
    index idx_user_id (user_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT='用户基本信息表';
